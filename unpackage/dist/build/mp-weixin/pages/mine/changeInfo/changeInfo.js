(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/changeInfo/changeInfo"],{"0537":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){}));var a=function(){var e=this.$createElement;this._self._c},o=[]},"16ae":function(e,n,t){"use strict";(function(e){var a=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(t("2eee")),c=a(t("c973")),i=a(t("7c53")),u=t("f536"),r={data:function(){return{icon:"",username:"",nickname:"",tel:"",id:""}},onLoad:function(){this.getUserInfoList()},methods:{getUserInfoList:function(){var e=this;return(0,c.default)(o.default.mark((function n(){var t;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,u.getUserInfo)();case 2:t=n.sent,console.log("getUserInfo",t),e.icon=t.data.userInfo.icon,e.username=t.data.userInfo.username,e.nickname=t.data.userInfo.nickname,e.tel=t.data.userInfo.phone,e.id=t.data.userInfo.id,console.log(e.id);case 10:case"end":return n.stop()}}),n)})))()},changeAvatar:function(){e.chooseMedia({count:1,mediaType:["image","video"],sourceType:["album","camera"],success:function(n){console.log("chooseMedia",n),e.uploadFile({url:i.default+"/lejuClient/login/uploadAvatar",filePath:n.tempFilePaths[0],name:"file",timeout:5e3,success:function(e){try{this.icon=JSON.parse(e.data).data.fileUrl}catch(n){}}})}})},updateInfoList:function(){var n=this;return(0,c.default)(o.default.mark((function t(){var a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(n.id,n.nickname,n.tel),t.next=3,(0,u.updateInfo)({icon:n.icon,id:n.id,nickname:n.nickname,phone:n.tel,sex:1});case 3:a=t.sent,console.log("updateInfo",a),a.success&&e.switchTab({url:"/pages/mine/mine"});case 6:case"end":return t.stop()}}),t)})))()},signOut:function(){var n=e.getStorageSync("token");e.showModal({content:"确认要退出吗",success:function(t){t.confirm&&n&&e.removeStorage({key:"token",success:function(n){console.log("removeStorage",n),e.switchTab({url:"/pages/mine/mine"})}})}})}}};n.default=r}).call(this,t("543d")["default"])},"2a23":function(e,n,t){"use strict";var a=t("3d72"),o=t.n(a);o.a},"2ff2":function(e,n,t){"use strict";t.r(n);var a=t("16ae"),o=t.n(a);for(var c in a)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(c);n["default"]=o.a},"3d72":function(e,n,t){},"4b8b":function(e,n,t){"use strict";(function(e,n){var a=t("4ea4");t("b9ca");a(t("66fd"));var o=a(t("775c"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"775c":function(e,n,t){"use strict";t.r(n);var a=t("0537"),o=t("2ff2");for(var c in o)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(c);t("2a23");var i=t("f0c5"),u=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"70274e10",null,!1,a["a"],void 0);n["default"]=u.exports}},[["4b8b","common/runtime","common/vendor"]]]);