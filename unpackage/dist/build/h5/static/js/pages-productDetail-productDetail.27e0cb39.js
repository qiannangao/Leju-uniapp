(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-productDetail-productDetail"],{"0bfe":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.addCart=function(t){return(0,a.default)({url:"/lejuClient/cart/addCart",method:"post",data:t})},e.addPreorder=function(t){return(0,a.default)({url:"/lejuClient/order/addPreOrder",method:"post",data:t})},e.findCartItem=function(t){return(0,a.default)({url:"/lejuClient/cart/findAllCartItem"})},e.productDetail=function(t){return(0,a.default)({url:"/lejuClient/product/productDetail/".concat(t),method:"get"})};var a=n(i("3874"))},2400:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("c7eb")),o=n(i("1da1"));i("7db0"),i("d3b7"),i("159b"),i("c740"),i("a434"),i("14d9");var s=n(i("c092")),c=i("0bfe"),r={mixins:[s.default],data:function(){return{productId:"",productDetail:null,isCollect:!1,isMaskShow:!1,skuList:null,current:0,num:1,flag:""}},onLoad:function(t){var e=this;console.log("options",t),this.productId=t.id,this.getproductDetail();var i=uni.getStorageSync("collectList");if(i){var n=i.find((function(t){return t.id==e.productId}));this.isCollect=!!n}else this.isCollect=!1},filters:{formatSpData:function(t){var e="";try{var i=JSON.parse(t);i.forEach((function(t){e+=","+t.key+":"+t.value})),e=e.substring(1),console.log("str",e)}catch(n){return console.log(n),t}return e}},computed:{swiperList:function(){return this.productDetail.albumPics.split(",")}},methods:{getproductDetail:function(){var t=this;return(0,o.default)((0,a.default)().mark((function e(){var i;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.productDetail)(t.productId);case 2:i=e.sent,console.log("productDetail",i),t.productDetail=i.data.product,uni.setNavigationBarTitle({title:t.productDetail.brandName});case 6:case"end":return e.stop()}}),e)})))()},collected:function(){var t=this;if(this.checkLogin()){var e=uni.getStorageSync("collectList");if(e){var i=e.find((function(e){return e.id==t.productDetail.id}));if(i){var n=e.findIndex((function(e){return e.id==t.productDetail.id}));e.splice(n,1),this.isCollect=!1,uni.showToast({title:"已取消收藏"})}else e.push(this.productDetail),this.isCollect=!0,uni.showToast({title:"收藏成功"});console.log(e),uni.setStorageSync("collectList",e)}else uni.setStorageSync("collectList",[this.productDetail]),this.isCollect=!0,uni.showToast({title:"收藏成功"});console.log(111)}},doProductChange:function(t){this.isMaskShow=!0,this.skuList=this.productDetail.skuList,this.flag=t},close:function(){this.isMaskShow=!1},changePic:function(t){this.current=t},subNum:function(){this.num--,this.num<1&&(uni.showToast({title:"最少选择一件商品"}),this.num=1)},addNum:function(){this.num++},doSubmit:function(){var t=this;return(0,o.default)((0,a.default)().mark((function e(){var i,n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.checkLogin()){e.next=2;break}return e.abrupt("return");case 2:if("cart"!=t.flag){e.next=10;break}return e.next=5,(0,c.addCart)({productId:t.productId,productSkuId:t.productDetail.skuList[t.current].id,quantity:t.num});case 5:i=e.sent,console.log("addCart",i),i.success&&(uni.showToast({title:"添加成功"}),t.isMaskShow=!1),e.next=16;break;case 10:if("buy"!=t.flag){e.next=16;break}return e.next=13,(0,c.addPreorder)({orderItemList:[{productId:t.productId,productQuantity:t.num,productSkuId:t.productDetail.skuList[t.current].id}]});case 13:n=e.sent,n.success&&(uni.showToast({title:"1s后跳转至订单确认页"}),setTimeout((function(){return uni.navigateTo({url:"/pages/confirmOrder/confirmOrder?id=".concat(n.data.orderId)})}),1e3)),console.log("addPreorder",n);case 16:case"end":return e.stop()}}),e)})))()}}};e.default=r},"883e":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("96ea").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.productDetail?n("v-uni-view",{staticClass:"content"},[n("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":"true",autoplay:!0,interval:3e3,duration:1e3}},t._l(t.swiperList,(function(t,e){return n("v-uni-swiper-item",{key:e},[n("v-uni-view",{staticClass:"swiper-item"},[n("v-uni-image",{staticClass:"img",attrs:{src:t,mode:""}})],1)],1)})),1),n("v-uni-view",{staticClass:"text"},[n("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(t.productDetail.price)+"元")]),n("v-uni-view",{staticClass:"name"},[t._v(t._s(t.productDetail.name))]),n("v-uni-view",{staticClass:"detailname"},[t._v(t._s(t.productDetail.detailTitle))]),n("uni-icons",{attrs:{type:"star",size:"50",color:t.isCollect?"#f00":"#999"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.collected.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"detail-img",domProps:{innerHTML:t._s(t.productDetail.detailMobileHtml)}}),n("v-uni-view",{staticClass:"more"},[n("v-uni-view",{staticClass:"addCart",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doProductChange("cart")}}},[t._v("加入购物车")]),n("v-uni-view",{staticClass:"buy",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doProductChange("buy")}}},[t._v("立即购买")])],1),t.isMaskShow?n("div",{staticClass:"mask",on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t.skuList?n("v-uni-view",{staticClass:"top"},[n("v-uni-image",{staticClass:"cancel",attrs:{src:i("a8f2"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),n("v-uni-image",{staticClass:"pic",attrs:{src:t.skuList[t.current].pic,mode:""}}),n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.productDetail.name))]),n("v-uni-view",{staticClass:"inventory"},[t._v("库存数量："+t._s(t.skuList[t.current].stock))])],1):t._e(),n("v-uni-view",{staticClass:"mask-content"},[n("v-uni-view",{staticClass:"box-top"}),n("v-uni-view",{staticClass:"choose"},[n("v-uni-view",{staticClass:"title"},[t._v("商品选择")]),t._l(t.skuList,(function(e,i){return n("v-uni-view",{key:e.id,staticClass:"text",class:t.current==i?"border":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePic(i)}}},[t._v(t._s(t._f("formatSpData")(e.spData)))])}))],2),n("v-uni-view",{staticClass:"choose"},[n("v-uni-view",{staticClass:"title"},[t._v("特色服务")]),n("v-uni-view",{staticClass:"text"},[t._v("送货上门")]),n("v-uni-view",{staticClass:"text"},[t._v("上门安装")])],1),n("v-uni-view",{staticClass:"buy"},[n("v-uni-view",{staticClass:"title"},[t._v("购买数量")]),n("v-uni-view",{staticClass:"number"},[n("v-uni-view",{staticClass:"sub",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.subNum.apply(void 0,arguments)}}},[t._v("-")]),n("v-uni-view",{staticClass:"num"},[t._v(t._s(t.num))]),n("v-uni-view",{staticClass:"add",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addNum.apply(void 0,arguments)}}},[t._v("+")])],1)],1),n("v-uni-view",{staticClass:"sure",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSubmit.apply(void 0,arguments)}}},[t._v("确定")])],1)],1):t._e()],1):t._e()},o=[]},"890c":function(t,e,i){"use strict";i.r(e);var n=i("2400"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a45b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.content .swiper[data-v-5bd1c04a]{width:%?750?%;height:%?600?%}.content .swiper .swiper-item[data-v-5bd1c04a]{width:%?750?%;height:%?600?%}.content .swiper .swiper-item .img[data-v-5bd1c04a]{width:100%;height:100%}.content .detail-img[data-v-5bd1c04a]{width:100%;height:%?2000?%;padding:%?80?%;box-sizing:border-box}.content .detail-img[data-v-5bd1c04a] img{width:100%;height:auto}.content .more[data-v-5bd1c04a]{position:fixed;bottom:0;right:0;width:%?750?%;height:%?100?%;display:flex;justify-content:flex-end;align-items:center;font-size:%?36?%;font-weight:500;background-color:#fff}.content .more .addCart[data-v-5bd1c04a]{width:%?250?%;height:%?80?%;background-color:#e2e2e2;display:flex;justify-content:center;align-items:center}.content .more .buy[data-v-5bd1c04a]{display:flex;justify-content:center;align-items:center;width:%?250?%;height:%?80?%;background-color:#354e44;color:#fff;margin-right:%?20?%}.content .mask[data-v-5bd1c04a]{position:fixed;left:0;right:0;top:0;bottom:0;background-color:#6f7072}.content .mask .top[data-v-5bd1c04a]{background-color:#fff;position:fixed;left:%?80?%;top:%?225?%;width:%?580?%;height:%?200?%;z-index:10;padding:0 %?40?% 0 %?0?%;box-sizing:border-box}.content .mask .top .cancel[data-v-5bd1c04a]{position:absolute;right:%?8?%;top:%?-5?%;width:%?50?%;height:%?50?%}.content .mask .top .pic[data-v-5bd1c04a]{width:%?200?%;height:%?200?%;position:relative;left:%?42?%;top:%?-50?%;border-radius:%?30?%;z-index:10}.content .mask .top .title[data-v-5bd1c04a]{float:right;width:%?250?%;height:%?50?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:600;margin-top:%?50?%}.content .mask .top .inventory[data-v-5bd1c04a]{float:right;margin:%?-100?% %?0?% %?10?% %?200?%;width:%?250?%;height:%?30?%;font-size:%?28?%;color:#9fb2bf}.content .mask .mask-content[data-v-5bd1c04a]{overflow-y:scroll;position:absolute;right:50%;top:%?200?%;-webkit-transform:translate(50%);transform:translate(50%);width:%?600?%;height:%?1050?%;background-color:#fff;border-radius:%?40?%;padding:%?40?%;box-sizing:border-box}.content .mask .mask-content .box-top[data-v-5bd1c04a]{width:%?500?%;height:%?200?%}.content .mask .mask-content .choose[data-v-5bd1c04a]{width:%?500?%}.content .mask .mask-content .choose .border[data-v-5bd1c04a]{border:2px solid #354e44}.content .mask .mask-content .choose .title[data-v-5bd1c04a]{font-size:%?36?%;font-weight:600;margin-bottom:%?30?%}.content .mask .mask-content .choose .text[data-v-5bd1c04a]{width:%?500?%;height:%?80?%;background-color:#f1f4f3;border-radius:%?20?%;margin-bottom:%?20?%;text-align:center;line-height:%?80?%}.content .mask .mask-content .buy[data-v-5bd1c04a]{width:%?500?%;height:%?80?%;display:flex;justify-content:space-between}.content .mask .mask-content .buy .title[data-v-5bd1c04a]{width:%?200?%;height:%?80?%;font-size:%?36?%;font-weight:600;margin-bottom:%?30?%;line-height:%?80?%}.content .mask .mask-content .buy .number[data-v-5bd1c04a]{float:right;width:%?300?%;height:%?80?%;display:flex;justify-content:space-between;font-size:%?40?%}.content .mask .mask-content .buy .number .sub[data-v-5bd1c04a],\r\n.content .mask .mask-content .buy .number .num[data-v-5bd1c04a],\r\n.content .mask .mask-content .buy .number .add[data-v-5bd1c04a]{width:%?70?%;height:%?70?%;background-color:#f3ede7;border-radius:%?50?%;display:flex;justify-content:center;align-items:center}.content .mask .mask-content .buy .number .num[data-v-5bd1c04a]{width:%?100?%}.content .mask .mask-content .sure[data-v-5bd1c04a]{width:%?200?%;height:%?80?%;background-color:#344b44;color:#fff;border-radius:%?30?%;font-size:%?36?%;display:flex;justify-content:center;align-items:center;margin:%?30?% auto}',""]),t.exports=e},a8f2:function(t,e){t.exports="data:image/png;base64,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"},c092:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},computed:{},methods:{checkLogin:function(){var t=uni.getStorageSync("token");return!!t||(uni.showModal({title:"提示",content:"您尚未登陆,是否立即登陆",success:function(t){t.confirm?uni.navigateTo({url:"/pages/mine/login/login"}):console.log("用户点击取消")}}),!1)}}};e.default=n},d182:function(t,e,i){"use strict";var n=i("d4e5"),a=i.n(n);a.a},d4e5:function(t,e,i){var n=i("a45b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("244530a0",n,!0,{sourceMap:!1,shadowMode:!1})},ff11:function(t,e,i){"use strict";i.r(e);var n=i("883e"),a=i("890c");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("d182");var s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"5bd1c04a",null,!1,n["a"],void 0);e["default"]=c.exports}}]);